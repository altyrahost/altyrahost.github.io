<!DOCTYPE html>
<html lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="img/">
    <title>Altyra</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/fonts.css">

    <link rel="stylesheet" href="css/boxicons/css/animations.css">
	<link rel="stylesheet" href="css/boxicons/css/boxicons.css">
</html>
<body>
    <div class="header">
        <div class="data-flex">
            <img src="media/img/altyra.png" alt="">
            <h1>Altyra <br><b>Flight Register</b></h1>
        </div>

        <div class="data-flex">
            <p class="active" id="menu1" onclick="module_switch('menu1')">Submit</p>
            <p id="menu2" onclick="module_switch('menu2')">View Flights</p>
        </div>
    </div>

    <div class="page-wrapper">

        <div class="menu1 main">
            <div class="data-flex" style="gap: 0;">
                <img src="media/img/plane.gif" alt="" style="width: 4rem;" id="submitimg">
                <h1>Submit Your Flight</h1>
            </div>
            

            <div class="data-flex-v submitflight" style="justify-content: flex-start;align-items: flex-start;">
                <h2>Flight</h2>

                <div class="main-option-grid">
                    <div class="data-flex-v pointer" >
                        <h3>Flight type</h3>
                        <div class="data-flex nselect" id="nselect_flighttype"  onclick="unlock_nlist('nselect_flighttype');">
                            <p></p>
                            <i class='bx bxs-chevron-down'></i>
                        </div>
                        <div class="nlist">
                            <p onclick="changeValue('nselect_flighttype','Owner')">Owner</p>
                            <p onclick="changeValue('nselect_flighttype','Members')">Members</p>
                            <p onclick="changeValue('nselect_flighttype','-1 Hour')">-1 Hour</p>
                            <p onclick="changeValue('nselect_flighttype','+1 Hour')">+1 Hour</p>
                            <p onclick="changeValue('nselect_flighttype','Instruction')">Instruction</p>
                        </div>
                    </div>

                    <div class="data-flex-v">
                        <h3>Flight route (ICAO)</h3>
                        <div class="data-flex">
                            <input type="text" pattern="[a-zA-Z]*" placeholder="Departure" maxlength="4" oninput="updateUpperCase('route_start')" id="route_start">
                            <input type="text" pattern="[a-zA-Z]*" placeholder="Arrival" maxlength="4" oninput="updateUpperCase('end')" id="route_end">
                        </div>
                        
                    </div>

                    <div class="data-flex-v">
                        <h3>Flight date</h3>
                        <input type="date" value="2022-08-22" style="max-width: none;">
                    </div>
                        
                    
                </div>



                <h2>Fuel Usage</h2>

                <div class="data-flex">
                    <label class="container">
                        <input type="checkbox" oninput="updateFuel()" id="sionfuel">
                        <span class="checkmark"></span>
                    </label>
                    <h3>I bought fuel in Sion</h3>
                </div>

                <div id="sionfuelflex" class="main-option-grid" style="margin-top: 1rem;">
                    <div class="data-flex-v" style="align-items: flex-start;" id="fuel_liters">
                        <h3>Fuel Purchased</h3>
                        <input type="text" maxlength="5" id="fuel_liters_value" placeholder="In litres">
                    </div>

                    <div class="data-flex-v" style="align-items: flex-start;" id="fuel_pricepaid">
                        <h3>Price Paid</h3>
                        <input type="text"   maxlength="6" id="fuel_pricepaid_value" placeholder="In euros">
                    </div>
                </div>

                <h2>Log Book Times</h2>
                <div class="main-option-grid">
                    <div class="data-flex-v" style="align-items: flex-start;" id="fuel_liters">
                        <h3>Take off</h3>
                        <input type="time">
                    </div>

                    <div class="data-flex-v" style="align-items: flex-start;" id="fuel_pricepaid">
                        <h3>Landing</h3>
                        <input type="time">
                    </div>
                </div>


                <h2>Fuel Status</h2>

                <div class="main-option-grid">
                    <div class="data-flex-v" style="align-items: flex-start;" id="fuel_liters">
                        <h3>Before Taxi</h3>
                        <input type="text" placeholder="In litres" maxlength="5">
                    </div>

                    <div class="data-flex-v" style="align-items: flex-start;" id="fuel_pricepaid">
                        <h3>Engine Stop</h3>
                        <input type="text" placeholder="In litres" maxlength="5">
                    </div>
                </div>

                <h2>Taxes</h2>

                <div class="data-flex-v" style="align-items: flex-start;" id="fuel_liters">
                    <h3>Landing Taxes paid outside Sion and Geneva (0 if no taxes were paid)</h3>
                    <input type="text" placeholder="In euros" maxlength="6">
                </div>

                <h2>Submit</h2>

                <div class="data-flex" id="submitbuttons">
                    <button class="alt">
                        Check for errors
                    </button>
                    <button>    
                        Submit your flight data
                    </button>
                </div>
                




                

            </div>
        </div>
    </div>



<script>
    var submit_module_info = {
        "values": {

        }
    }

    function aId(id){
        return document.getElementById(id);
    }
    function module_switch(module){
        e = document.querySelectorAll('.header p')
        for(i=0;i<e.length;i++){
            e[i].classList.remove('active')
        }
        aId(module).classList.add('active')
    }

    function changeValue(id, value){ 
        document.querySelectorAll("#"+id+' p')[0].innerText = value;
        submit_module_info['values'][id.replace('nselect_','')] = value;
        unlock_nlist(id);
    }

    function unlock_nlist(id){
        e = document.querySelectorAll('#'+id+" + .nlist")[0]
        
        if (e.style.maxHeight == "0rem"){
            e.style.maxHeight = e.scrollHeight + "px";
            setTimeout(()=>{
                e.style.padding = ".5rem";
            },500)

        }
        else {
            e.style.maxHeight = "0rem";
            e.style.padding = "0rem";
        }
    }

    function updateFuel(){
        e = aId('sionfuel')
        if (e.checked){
            aId('fuel_pricepaid').style.display = "none";
        }
        else {
            aId('fuel_pricepaid').style.display = "block";
        }
    }

    function updateUpperCase(id) {
        aId(id).value = aId(id).value.toUpperCase();
    }   


    window.onload=()=>{
        changeValue('nselect_flighttype','Owner');
    }
</script>
</body>
